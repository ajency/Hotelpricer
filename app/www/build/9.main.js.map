{"version":3,"sources":["../../src/pages/forgotpassword/forgotpassword.module.ts","webpack:///./src/components/footer-element/footer-element.module.ts?285c********","webpack:///./src/components/footer-element/footer-element.ts?a2fd********","../../src/pages/forgotpassword/forgotpassword.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACM;AAC+C;AAcrG,IAAa,wBAAwB;IAArC;IAAuC,CAAC;IAAD,+BAAC;AAAD,CAAC;AAA3B,wBAAwB;IAZpC,8EAAQ,CAAC;QACR,YAAY,EAAE;YACZ,2EAAkB;SACnB;QACD,OAAO,EAAE;YACP,sHAA4B;YAC5B,sEAAe,CAAC,QAAQ,CAAC,2EAAkB,CAAC;SAC7C;QACD,OAAO,EAAE;YACP,2EAAkB;SACnB;KACF,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;ACjBI;AACO;AACU;AAa1D,IAAa,4BAA4B;IAAzC;IAA2C,CAAC;IAAD,mCAAC;AAAD,CAAC;AAA/B,4BAA4B;IAXxC,8EAAQ,CAAC;QACR,YAAY,EAAE;YACZ,+EAAsB;SACvB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,+EAAsB,CAAC;SACjD;QACD,OAAO,EAAE;YACP,+EAAsB;SACvB;KACF,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;ACfC;AACe;AACzD;;;;;GAKG;AAKH,IAAa,sBAAsB;IAIjC,gCAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAFlC,YAAO,GAAW,EAAE,CAAC;QAG3B,yDAAyD;QACzD,6BAA6B;QAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;IACjD,CAAC;IAEH,6BAAC;AAAD,CAAC;AAVY,sBAAsB;IAJlC,+EAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACQ;KACnC,CAAC;2BAK0C;AAM3C;SAVY,sBAAsB,W;;;;;;;;;;;;;;;;;;;;;;;ACZO;AAC0B;AACT;AACF;AACF;AACvD;;;;;GAKG;AAUH,IAAa,kBAAkB;IAM7B,4BACU,WAAwB,EACxB,UAAsB,EACtB,SAAoB,EACpB,OAAsB;QAHtB,gBAAW,GAAX,WAAW,CAAa;QACxB,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,YAAO,GAAP,OAAO,CAAe;QATxB,kBAAa,GAAW,EAAE,CAAC;QAC3B,qBAAgB,GAAW,EAAE,CAAC;QAC9B,oBAAe,GAAY,KAAK,CAAC;QACjC,kBAAa,GAAY,KAAK,CAAC;QAC/B,uBAAkB,GAAG,wJAAwJ,CAAC;IAOtL,CAAC;IAED,2CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;IACnD,CAAC;IAED,4CAAe,GAAf;QAAA,iBAYC;QAXC,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC;QACjD,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,MAAM;YAChC,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,iBAAiB,CAAC;iBAC5C,IAAI,CAAC;gBACJ,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC;iBACD,KAAK,CAAC;gBACL,OAAO,CAAC,IAAI,CAAC;YACf,CAAC,CAAC;QACJ,CAAC,CAAC;IAEJ,CAAC;IAEO,0CAAa,GAArB;QACG,EAAE,EAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAC;YACnD,IAAI,CAAC,gBAAgB,GAAG,EAAE;YAC1B,MAAM,CAAC,IAAI;QACb,CAAC;QACD,IAAI,EAAC;YACH,IAAI,CAAC,gBAAgB,GAAG,yBAAyB;YACjD,MAAM,CAAC,KAAK;QACf,CAAC;IACH,CAAC;IAEO,0CAAa,GAArB;QAAA,iBAsCC;QArCC,EAAE,EAAC,CAAC,IAAI,CAAC,aAAa,CAAC,EAAC;YACtB,IAAI,CAAC,gBAAgB,GAAG,wBAAwB;YAChD,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,gBAAgB,EAAC,OAAO,CAAC,CAAC;YAC5D,MAAM,CAAC;QACT,CAAC;QAED,EAAE,EAAC,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,EAAC;YACxB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,gBAAgB,EAAC,OAAO,CAAC,CAAC;YAC5D,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC;aACtD,IAAI,CAAC,UAAC,GAAG;YACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;YAChB,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,EAAE,EAAC,GAAG,CAAC,OAAO,IAAI,IAAI,CAAC,EAAC;gBACtB,UAAU,GAAG,SAAS;gBACtB,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC5B,CAAC;YACD,IAAI,EAAC;gBACH,UAAU,GAAG,OAAO;YACtB,CAAC;YACD,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YACrD,+CAA+C;QACjD,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAK;YACX,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,EAAE,EAAC,KAAK,CAAC,OAAO,CAAC,EAAC;gBAChB,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YACvD,CAAC;YACD,IAAI,EAAC;gBACH,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,2BAA2B,EAAE,OAAO,CAAC,CAAC;YACrE,CAAC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAEO,wCAAW,GAAnB;QACE,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,EAAC,IAAI,EAAC,EAAE,EAAC,KAAK,CAAC;IACtD,CAAC;IAEH,yBAAC;AAAD,CAAC;AAvFY,kBAAkB;IAT9B,uFAAS,CAAC;QACT,IAAI,EAAE,iBAAiB;QACvB,OAAO,EAAE,iBAAiB;QAC1B,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,+EAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;OACG;KACnC,CAAC;mFAQkC;QACZ,yEAAU;QACX,oEAAS;QACX,aAAa;AA6EjC;SAvFY,kBAAkB,e","file":"9.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ForgotpasswordPage } from './forgotpassword';\nimport { FooterElementComponentModule } from '../../components/footer-element/footer-element.module';\n\n@NgModule({\n  declarations: [\n    ForgotpasswordPage,\n  ],\n  imports: [\n    FooterElementComponentModule,\n    IonicPageModule.forChild(ForgotpasswordPage),\n  ],\n  exports: [\n    ForgotpasswordPage\n  ]\n})\nexport class ForgotpasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/forgotpassword/forgotpassword.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FooterElementComponent } from './footer-element';\n\n@NgModule({\n  declarations: [\n    FooterElementComponent,\n  ],\n  imports: [\n    IonicPageModule.forChild(FooterElementComponent),\n  ],\n  exports: [\n    FooterElementComponent\n  ]\n})\nexport class FooterElementComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/footer-element/footer-element.module.ts","import { Component } from '@angular/core';\nimport { AppGlobals } from '../../providers/app-globals';\n/**\n * Generated class for the FooterElementComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'footer-element',\n  templateUrl: 'footer-element.html'\n})\nexport class FooterElementComponent {\n\n  private version: string = \"\";\n\n  constructor(private appglobals: AppGlobals) {\n    // console.log('Hello FooterElementComponent Component');\n    // this.text = 'Hello World';\n    this.version = this.appglobals.getAppVersion();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/footer-element/footer-element.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { RepricerApi } from '../../providers/repricer-api';\nimport { AppService } from '../../providers/app-service';\nimport { AuthGuard } from '../../providers/auth-guard';\n/**\n * Generated class for the ForgotpasswordPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage({\n  name: 'forgot-password',\n  segment: 'forgot-password',\n  priority: 'off'\n})\n@Component({\n  selector: 'page-forgotpassword',\n  templateUrl: 'forgotpassword.html',\n})\nexport class ForgotpasswordPage {\n  private restPassEmail: string = '';\n  private resetPassMessage: string = '';\n  private resetInProgress: boolean = false;\n  private resetComplete: boolean = false;\n  private emailRegExpression = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  constructor(\n    private repricerapi: RepricerApi,\n    private appservice: AppService,\n    private authguard: AuthGuard,\n    private navCtrl: NavController\n    ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ForgotpasswordPage');\n  }\n\n  ionViewCanEnter(): Promise<boolean>{\n    console.log('ionviewcanenter ForgotpasswordPage')\n    return new Promise((resolve,reject) => {\n      this.authguard.verifyToken('forgot-password')\n      .then(() => {\n        reject(true)\n      })\n      .catch(() => {\n        resolve(true)\n      })\n    })\n\n  }\n\n  private validateEmail(): boolean{\n     if(this.emailRegExpression.test(this.restPassEmail)){\n       this.resetPassMessage = ''\n       return true\n     }\n     else{\n       this.resetPassMessage = \"This email isn't valid!\"\n       return false\n    }\n  }\n\n  private sendResetLink(): void{\n    if(!this.restPassEmail){\n      this.resetPassMessage = \"Email cannot be blank!\"\n      this.appservice.presentToast(this.resetPassMessage,'error');\n      return;\n    }\n\n    if(!this.validateEmail()){\n      this.appservice.presentToast(this.resetPassMessage,'error');\n      return;\n    }\n\n    this.resetInProgress = true;\n    this.repricerapi.sendForgotPassLink(this.restPassEmail)\n    .then((res) => {\n      console.log(res)\n      this.resetInProgress = false;\n      let toast_type = '';\n      if(res.success == true){\n        toast_type = 'success'\n        this.resetComplete = true;\n      }\n      else{\n        toast_type = 'error'\n      }\n      this.appservice.presentToast(res.status, toast_type);\n      // this.appservice.updateRootNav('login',true);\n    })\n    .catch((error) => {\n      this.resetInProgress = false;\n      if(error.message){\n        this.appservice.presentToast(error.message, 'error');\n      }\n      else{\n        this.appservice.presentToast('Failed to send reset link', 'error');\n      }\n    });\n\n  }\n\n  private cancelReset(): void{\n    this.appservice.updateRootNav('login',true,{},false)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/forgotpassword/forgotpassword.ts"],"sourceRoot":""}